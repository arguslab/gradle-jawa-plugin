language: groovy
jdk: oraclejdk8
sudo: false
branches:
  only:
  - master
script:
  - ./gradlew --debug check
  - ./gradlew --debug uploadArchives
  - ./gradlew --stop
  - ./gradlew --debug integTest
after_success:
- ./gradlew --debug uploadCoverageToCodacy
before_cache:
  - rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
notifications:
  email:
  - fgwei521@gmail.com
