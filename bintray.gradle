/*
 * Copyright (c) 2016. Fengguo Wei and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Detailed contributors are listed in the CONTRIBUTOR.md
 */

publishing {
    publications {
        MyPublication(MavenPublication) {
            from components.java
            groupId group
            artifactId 'gradle-jawa-plugin'
            version getVersion()
        }
    }
}

bintray {
    user = bintray_user
    key = bintray_api_key
    publications = ['MyPublication']
    pkg {
        repo = 'maven'
        name = 'gradle-project'
        userOrg = 'arguslab'
        licenses = ['Eclipse-1.0']
        desc = 'Gradle Jawa Plugin!'
        websiteUrl = 'https://github.com/arguslab/gradle-jawa-plugin'
        issueTrackerUrl = 'https://github.com/arguslab/gradle-jawa-plugin/issues'
        vcsUrl = 'https://github.com/arguslab/gradle-jawa-plugin.git'
        licenses = ['Apache-2.0']
        labels = ['jawa', 'gradle']
        publicDownloadNumbers = true

        githubRepo = 'arguslab/gradle-jawa-plugin' //Optional Github repository
        githubReleaseNotesFile = 'README.md' //Optional Github readme file
        version {
            name = getVersion()
            desc = "Gradle Jawa Plugin $name"
            released  = new Date()
            vcsTag = getVersion()
            //Optional configuration for GPG signing
            gpg {
                sign = true //Determines whether to GPG sign the files. The default is false
                passphrase = passphrase //Optional. The passphrase for GPG signing'
            }
            //Optional configuration for Maven Central sync of the version
            mavenCentralSync {
                sync = true //[Default: true] Determines whether to sync the version to Maven Central.
                user = mavenuser //OSS user token: mandatory
                password = mavenpaasword //OSS user password: mandatory
                close = '1' //Optional property. By default the staging repository is closed and artifacts are released to Maven Central. You can optionally turn this behaviour off (by puting 0 as value) and release the version manually.
            }
        }
    }
}